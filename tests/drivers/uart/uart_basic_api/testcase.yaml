common:
  harness: keyboard
  filter: CONFIG_UART_CONSOLE
  tags:
    - drivers
    - uart
tests:
  drivers.uart.basic_api:
    integration_platforms:
      - mps2/an385
  drivers.uart.basic_api.wide:
    extra_configs:
      - CONFIG_UART_WIDE_DATA=y
    tags: drivers uart
    arch_allow: arm
    platform_allow: nucleo_h743zi
    integration_platforms:
      - nucleo_h743zi
    extra_args: DTC_OVERLAY_FILE="boards/nucleo_h743zi.overlay"
  drivers.uart.basic_api.poll:
    extra_args: CONF_FILE=prj_poll.conf
    integration_platforms:
      - mps2/an385
  drivers.uart.basic_api.shell:
    extra_args: CONF_FILE=prj_shell.conf
    min_flash: 64
    integration_platforms:
      - mps2/an385
  drivers.uart.basic_api.cdc_acm:
    extra_args:
      - EXTRA_CONF_FILE="overlay-usb.conf"
      - DTC_OVERLAY_FILE="usb.overlay"
    depends_on: usb_device
  drivers.uart.basic_api.shell_ke17z9_uart:
    platform_allow: frdm_ke17z512
    extra_args:
      - CONF_FILE=prj_shell.conf
      - DTC_OVERLAY_FILE="boards/frdm_ke17z512_uart.overlay"
